(this["webpackJsonplabellab-client"]=this["webpackJsonplabellab-client"]||[]).push([[20],{668:function(e,t,a){},669:function(e,t,a){},676:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(13),l=a(14),c=a(16),s=a(15),i=a(17),o=a(0),m=a.n(o),u=a(19),d=a(427),h=a(673),b=a(692),p=a(328),f=a(462),E=a(691),j=a(671),v=a(184),g=a(334),C=a(73),S=a(338),O=a.n(S),k=a(674),M=(a(668),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).resetComponent=function(){return a.setState({isLoading:!1,value:"",results:[]})},a.handleResultSelect=function(e,t){var n=t.result,r=a.props.updateState;a.setState({value:n.email},r(n.email))},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!0,value:n}),a.props.searchUser(n.trim()),setTimeout((function(){if(a.state.value.length<1)return a.resetComponent();a.setState({isLoading:!1})}),300)},a.generateResults=function(){var e=a.props.search,t=[];return null==e?t:(e.map((function(e,a){return e?t.push({key:a,title:e.name,description:e.email,email:e.email,id:e._id}):null})),t)},a.state={isLoading:!1,value:"",results:[]},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.resetComponent()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.value;return m.a.createElement(k.a,{className:"searchbar-user-parent",size:"large",loading:t,onResultSelect:this.handleResultSelect,onSearchChange:O.a.debounce(this.handleSearchChange,500,{leading:!0}),results:this.generateResults(),value:a,placeholder:"Search members..",minCharacters:1})}}]),t}(o.Component)),R=Object(u.b)((function(e){return{search:e.searchUser}}),(function(e){return{searchUser:function(t){return e(Object(C.m)(t))}}}))(M),y=(a(669),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleAddMember=function(){a.setState({open:!a.state.open})},a.handleChange=function(e){a.setState(Object(n.a)({},e.target.name,e.target.value))},a.handleMemberSubmit=function(){var e=a.props,t=e.project,n=e.addMember,r=a.state.memberEmail;a.setState({check:!0}),n({memberEmail:r,projectId:t.projectId},a.fetchProjectCallback),a.close()},a.close=function(){return a.setState({open:!1})},a.handleDelete=function(e){var t=a.props;(0,t.memberDelete)(e,t.project.projectId,a.fetchProjectCallback)},a.fetchProjectCallback=function(){var e=a.props;(0,e.fetchProject)(e.project.projectId)},a.updateState=function(e){a.setState({memberEmail:e})},a.state={open:!1,memberEmail:""},a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.project,n=t.actions,r=t.history,l=t.user,c=this.state.open;return m.a.createElement(d.a,null,n.errors?m.a.createElement(h.a,{negative:!0},m.a.createElement(h.a.Header,null,n.errors)):null,n.msg?m.a.createElement(h.a,{success:!0,header:n.msg}):null,n.isadding?m.a.createElement(b.a,{active:n.isadding},m.a.createElement(p.a,{indeterminate:!0},"Adding member :)")):null,n.isdeleting?m.a.createElement(b.a,{active:n.isdeleting},m.a.createElement(p.a,{indeterminate:!0},"Removing member :(")):null,m.a.createElement(f.a,{size:"small",open:c,onClose:this.close},m.a.createElement(f.a.Content,null,m.a.createElement("p",null,"Enter Member email:")),m.a.createElement(f.a.Actions,null,m.a.createElement(R,{history:r,updateState:this.updateState}),m.a.createElement(E.a,{positive:!0,onClick:this.handleMemberSubmit,content:"Add member"}))),m.a.createElement(j.a,{color:"green",celled:!0,padded:!0,striped:!0},m.a.createElement(j.a.Header,null,m.a.createElement(j.a.Row,null,m.a.createElement(j.a.HeaderCell,{singleLine:!0},"Project Members"),m.a.createElement(j.a.HeaderCell,null,"Role"),m.a.createElement(j.a.HeaderCell,null))),m.a.createElement(j.a.Body,null,a&&a.members&&a.members.map((function(t,a){return m.a.createElement(j.a.Row,{key:a},m.a.createElement(j.a.Cell,null,m.a.createElement(v.a,{as:"h4"},t.member.name)),m.a.createElement(j.a.Cell,null,m.a.createElement(v.a,{as:"h4"},t.role)),m.a.createElement(j.a.Cell,{collapsing:!0},"Admin"!==t.role&&t.member.email!==l.userDetails.email?m.a.createElement(g.a,{className:"team-remove-user-icon",name:"user delete",onClick:function(){return e.handleDelete(t.member.email)}}):null))})))),m.a.createElement("div",{className:"add-member-button"},m.a.createElement(E.a,{icon:!0,className:"add-member",onClick:this.handleAddMember,labelPosition:"left"},m.a.createElement(g.a,{name:"add"}),"Add member")))}}]),t}(o.Component));t.default=Object(u.b)((function(e){return{user:e.user,project:e.projects.currentProject,actions:e.projects.projectActions}}),(function(e){return{addMember:function(t,a){return e(Object(C.a)(t,a))},fetchProject:function(t){return e(Object(C.i)(t))},memberDelete:function(t,a,n){return e(Object(C.r)(t,a,n))}}}))(y)}}]);
//# sourceMappingURL=20.bc5f57c9.chunk.js.map